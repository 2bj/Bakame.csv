<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Example - Bakame.Csv</title>
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Exo+2:400,500,700,700italic,500italic,400italic|Noticia+Text:400,400italic,700,700italic">
<link rel="stylesheet" href="assets/normalize.css">
<link rel="stylesheet" href="assets/prism.css">
<link rel="stylesheet" href="assets/screen.css">
</head>
<body>
<header role="banner">
	<h1>Bakame.csv</h1>
	<p class="tagline">Csv data manipulation made easy in PHP</p>
</header>
<main>
	<menu>
		<h2>Getting Started</h2>
		<ul>
			<li><a href="index.html">Introduction</a></li>
			<li class="selected"><a href="examples.html">Examples</a></li>
			<li><a href="installation.html">Installation</a></li>
		</ul>
		<h2>The API</h2>
		<ul>
            <li><a href="loading.html">Loading a CSV</a></li>
            <li><a href="conversion.html">Outputting a CSV</a></li>
			<li><a href="reading.html">Reading a CSV</a></li>
			<li><a href="writing.html">Writing a CSV</a></li>
		</ul>
	</menu>
	<article>
		<h1>Examples</h1>

		<h2>Parsing a CSV document</h2>

		<p>A simple example to show you how to parse a CSV document</p>

		<pre><code class="language-php">&lt?php

$csv = new \Bakame\Csv\Reader('/path/to/your/csv/file.csv');

//get the first row, usually the CSV header
$headers = $csv->fetchOne();

//get 25 rows starting from the 11th row
$res = $csv->setOffset(10)->setLimit(25)->fetchAll();
		</code></pre>

		<h2>Creating a CSV document</h2>

		<p>A simple example to show you how to create and download a CSV from a PDOStatement Object</p>

		<pre><code class="language-php">&lt?php

//we fetch the info from a DB using a PDO object
$sth = $dbh->prepare(
	"SELECT firstname, lastname, email FROM users LIMIT 200"
);
$sth->setFetchMode(PDO::FETCH_NUM);
$sth->execute();

//we create the CSV into memory
$csv = new \Bakame\Csv\Writer(new SplTempFileObject);

//we insert the CSV header
$csv->insertOne(['firstname', 'lastname', 'email']);

// The PDOStatement Object implements the Traversable Interface
// that's why \Bakame\Csv\Writer::insertAll can directly insert
// the data into the CSV
$csv->insertAll($sth);

// Because you are providing the filename you don't have to 
// set the HTTP headers \Bakame\Csv\Writer::output can 
// directly set them for you
// The file is downloadable
$csv->output('users.csv');
die;
		</code></pre>
	</article>
</main>
<footer role="contentinfo">
<div>
<p>Bakame.csv is a library coded by <a href="https://github.com/nyamsprod">Nyamagana Butera Ignace</a>.You can contact me using:</p>
<ul>
<li><a href="https://twitter.com/intent/user?screen_name=nyamsprod" target="_blank" title="Follow @nyamsprod on twitter">Twitter</a>
<li><a href="https://www.facebook.com/nyamsprod" target="_blank" title="Join me on facebook">Facebook</a>
<li><a href="http://be.linkedin.com/pub/ignace-philippe-nyamagana-butera/13/a16/6b4" title="Connect with me through LinkedIn">LinkedIn</a>
<li><a href="https://plus.google.com/103435977218171777746/?rel=author" target="_blank" title="Find Nyamsprod on Google+" rel="author">Google+</a>
</ul>
<p class="copyrights">
&copy; Nyamagana Butera Ignace. Site design by  <a href="https://www.nyamsprod.com">Nyamagana Butera Ignace</a><br>
crafted with <strong>Love</strong>, <strong>Passion</strong> and
<a target="_blank" rel="external" href="http://www.vim.org/">Vim</a>.<br>
The site is always rendered using <a target="_blank" rel="external" href="http://www.w3.org/">Open Web Technologies</a>
</p>
</div>
</footer><!-- End Footer -->
<script src="assets/prism.js"></script>
<script>
var _gaq=[["_setAccount","UA-1200654-1"],["_trackPageview"]], ___gcfg = {lang: 'en'};
(function(d, t){
    var g = d.createElement(t),o = d.getElementsByTagName(t)[0];
        g.src = ('https' == d.location.protocol) ? 'https://ssl.google-analytics.com/ga.js' : 'http://www.google-analytics.com/ga.js';
        g.async = 1;
        o.parentNode.insertBefore(g, o);
})(document, 'script');
</script>
</body>
</html>